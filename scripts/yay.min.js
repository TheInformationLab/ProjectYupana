/*!
 * Yay
 * Advanced Sidebar for Bootstrap
 * http://nkdev.info
 * @author nK
 * @version 1.1.0
 * Copyright 2015.
 */
!function(a,b){b["true"]=a,!function(a){"use strict";var b=function(b,c){this.options=c,this.$yay=a(b),this.$content=this.$yay.find("~ .content-wrap"),this.$nano=this.$yay.find(".nano"),this.$html=a("html"),this.$body=a("body"),this.$window=a(window),this.changed=!1,this.init()};b.DEFAULTS={duration:300,resizeWnd:1e3},b.prototype.init=function(){var b=this;b.$body.addClass("yay-notransition"),b.$nano.nanoScroller({preventPageScrolling:!0}),a(".yay-toggle").on("click",function(a){a.preventDefault(),b.toggleYay()}),b.$content.on("click",function(){b.isHideOnContentClick()&&b.hideYay()}),b.$yay.on("click","li a.yay-sub-toggle",function(c){c.preventDefault(),b.toggleSub(a(this))}),"push"==b.showType()&&b.isShow()&&b.$body.css("overflow","hidden"),b.$yay.hasClass("yay-gestures")&&b.useGestures(),b.$window.on("resize",function(){b.windowResize()}),b.windowResize(),setTimeout(function(){b.$body.removeClass("yay-notransition")},1)},b.prototype.isShow=function(){return!this.$body.hasClass("yay-hide")},b.prototype.showType=function(){return this.$yay.hasClass("yay-overlay")?"overlay":this.$yay.hasClass("yay-push")?"push":this.$yay.hasClass("yay-shrink")?"shrink":void 0},b.prototype.isHideOnContentClick=function(){return this.$yay.hasClass("yay-overlap-content")},b.prototype.isStatic=function(){return this.$yay.hasClass("yay-static")},b.prototype.toggleYay=function(a){var b=this,c=!b.isShow();a&&("show"==a&&!c||"hide"==a&&c)||(b.options.changed=!0,c?b.showYay():b.hideYay())},b.prototype.showYay=function(){var a=this;a.$body.removeClass("yay-hide"),"push"==a.showType()&&a.$body.css("overflow","hidden"),setTimeout(function(){a.$nano.nanoScroller(),a.$window.resize()},a.options.duration)},b.prototype.hideYay=function(){var a=this;a.$body.addClass("yay-hide"),a.$nano.nanoScroller({destroy:!0}),setTimeout(function(){"push"==a.showType()&&a.$body.css("overflow","visible"),a.$window.resize()},a.options.duration)},b.prototype.toggleSub=function(a){var b=this,c=a.parent(),d=c.find("> ul"),e=c.hasClass("open");d.length&&(e?b.closeSub(d):b.openSub(d,c))},b.prototype.closeSub=function(b){var c=this;b.css("display","block").stop().slideUp(c.options.duration,"swing",function(){a(this).find("li a.yay-sub-toggle").next().attr("style",""),c.$nano.nanoScroller()}),b.parent().removeClass("open"),b.find("li a.yay-sub-toggle").parent().removeClass("open")},b.prototype.openSub=function(a,b){var c=this;a.css("display","none").stop().slideDown(c.options.duration,"swing",function(){c.$nano.nanoScroller()}),b.addClass("open"),c.closeSub(b.siblings(".open").find("> ul"))},b.prototype.useGestures=function(){var a=this,b=0,c=0,d=0;a.$window.on("touchstart",function(a){c=(a.originalEvent.touches?a.originalEvent.touches[0]:a).pageX,d=(a.originalEvent.touches?a.originalEvent.touches[0]:a).pageX,b=1}),a.$window.on("touchmove",function(a){b&&(d=(a.originalEvent.touches?a.originalEvent.touches[0]:a).pageX)}),a.$window.on("touchend",function(){if(b){var e=c-d,f=a.$html.hasClass("rtl");if(b=0,Math.abs(e)<100)return;f&&(e*=-1,c=a.$window.width()-c),0>e?40>c&&a.showYay():a.hideYay()}})};var c;b.prototype.windowResize=function(){var a=this;a.options.changed||(clearTimeout(c),c=setTimeout(function(){a.$window.width()<a.options.resizeWnd&&a.toggleYay("hide")},50))},a(".yaybar").each(function(){{var c=a.extend({},b.DEFAULTS,a(this).data(),"object"==typeof option&&option);new b(this,c)}})}(jQuery)}({},function(){return this}());